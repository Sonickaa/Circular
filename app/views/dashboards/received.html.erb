<% @received_offers.each do |offer| %>
  <% offer.products.each do |product| %>
  <% other_user = User.find(offer.user_sender_id) %>
  <h2>Congratulations! <%= other_user.first_name %> wants your <%= product.title %></h2>
  <h3>Are some of <%= other_user.first_name %>´s items interesting for you? Choose and exchange!</h3>
  <form action="offer/createCounterOffer" method="post", class="form-offer">
    <input type="integer" hidden name="offer[my_product]" value="<%= product.id %>">
    <input type="integer" hidden name="offer[offer_id]" value="<%= offer.id %>">
    <select multiple name="offer[their_product]" id="their_product">
    <% other_user.products.each do |product| %>
      <option value="<%= product.id %>"><%= product.title %></option>
    <% end %>
    </select>
    <button type="submit">Make an offer</button>

  </form>
   <div>
   <%= link_to "Decline", declined_path(offer),data: {"turbo-method": :patch}, class: "button" %>
   </div>
  <% end %>
<% end %>


<div class="container-full">
  <div class="container-greetings">
    <h1> Congratulations <%= current_user.first_name%> !</h1>
    <h3>Are some of..........´s items interesting for you?</h3>
  <h4>Choose and exchange!</h4>
      <div class="container-greetings-message">
        <h4>Your Received offers</h4>
    </div>
  </div>

<div class="container-checkbox">
    <span class="close">&times;</span>
    <ul>
        <li><input type="checkbox" id="item1"> <label for="item1">item 1</label></li>
        <li><input type="checkbox" id="item2"> <label for="item2">item 2</label></li>
        <li><input type="checkbox" id="item3"> <label for="item3">item 3</label></li>
    </ul>
</div>
<div class="button-container">

    <button onclick="confirmSelection()">Make an offer</button>
    <button onclick="cancelSelection()">Decline</button>
</div>
</div>

<%= link_to products_path, class: 'btn btn-link' do %>
  <svg class="close-button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40">
    <defs>
      <style>
        .cls-1 {
          fill: #000;
          stroke-width: 0px;
        }

        .cls-2 {
          fill: none;
          stroke: #000;
          stroke-linecap: round;
          stroke-miterlimit: 10;
          stroke-width: 2px;
        }
      </style>
    </defs>
    <g id="Layer_1-2" data-name="Layer 1">
      <g id="nav-bar">
        <g id="btn_edit" data-name="btn edit">
          <path class="cls-1" d="M20,2c9.93,0,18,8.07,18,18s-8.07,18-18,18S2,29.93,2,20,10.07,2,20,2M20,0C8.95,0,0,8.95,0,20s8.95,20,20,20,20-8.95,20-20S31.05,0,20,0h0Z"/>
          <line class="cls-2" x1="11.36" y1="11.37" x2="28.44" y2="28.57"/>
          <line class="cls-2" x1="28.5" y1="11.43" x2="11.3" y2="28.51"/>
        </g>
      </g>
    </g>
  </svg>
<% end %>
